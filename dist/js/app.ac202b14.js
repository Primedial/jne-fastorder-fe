(function(){"use strict";var e={8406:function(e,t,a){var s=a(7195),i=(a(7658),a(5114)),l=a.n(i),r=a(306),o=a(6891),n=a(2241),c=function(){var e=this,t=e._self._c;return t("main",{staticClass:"flex"},[t("Sidebar"),t("div",{staticClass:"app-wrapper"},[t("Navbar"),t("transition",{attrs:{name:"el-fade-in",mode:"out-in"}},[t("router-view")],1)],1)],1)},d=[],u=function(){var e=this,t=e._self._c;return t("div",{staticClass:"sidebar-wrapper"},[t("el-menu",{attrs:{"default-active":e.$route.path,router:""},on:{open:e.handleOpen,close:e.handleClose}},[t("div",{staticClass:"mt-2 p-2"},[t("el-image",{staticClass:"block m-auto",staticStyle:{width:"90%",height:"auto"},attrs:{src:"https://demo.permudahdakwah.com/images/fastorder.png",fit:"cover"}})],1),t("div",{staticClass:"w-full flex justify-center mt-3"},[t("el-avatar",{attrs:{shape:"circle",size:100,fit:"cover",src:"https://fuss10.elemecdn.com/e/5d/4a731a90594a4af544c0c25941171jpeg.jpeg"}})],1),t("small",{staticClass:"text-center text-gray mb-1 mt-2 block"},[e._v("Welcome back,")]),t("h4",{staticClass:"text-center mt-0 mb-4"},[e._v(e._s(e.user.name))]),t("div",{staticClass:"my-2"},[t("h2",{staticClass:"text-center mb-0"},[e._v(e._s(e._f("formatCurrency")(e.user.wallet.amount)))]),t("small",{staticClass:"text-center text-gray block mt-1"},[e._v("Total Saldo")])]),e._l(e.menus,(function(a,s){return t("div",{key:`menu-${s}`},[a.children?t("el-submenu",{attrs:{index:`/dashboard/${a.path}`}},[t("template",{slot:"title"},[t("eva-icon",{staticClass:"mr-1 mb-1",attrs:{name:a.icon}}),t("span",{attrs:{slot:"title"},slot:"title"},[e._v(e._s(a.title))])],1),t("el-menu-item-group",e._l(a.children,(function(i,l){return t("el-menu-item",{key:`sub-${s}-${l}`,attrs:{index:`/dashboard/${a.path}/${i.path}`}},[i.icon?t("eva-icon",{staticClass:"mr-1 mb-1",attrs:{name:i.icon}}):e._e(),t("span",{attrs:{slot:"title"},slot:"title"},[e._v(e._s(i.title))])],1)})),1)],2):t("el-menu-item",{attrs:{index:`/dashboard/${a.path}`}},[t("eva-icon",{staticClass:"mr-1 mb-1",attrs:{name:a.icon}}),t("span",{attrs:{slot:"title"},slot:"title"},[e._v(e._s(a.title))])],1)],1)}))],2)],1)},m=[];const p=[{path:"overview",title:"Dashboard",icon:"activity-outline"},{path:"monitoring",title:"Monitoring",icon:"monitor-outline"},{path:"shipping",title:"Pengiriman",icon:"swap-outline",children:[{path:"ongkos-kirim",title:"Cek Ongkir"},{path:"resi-satuan",title:"Resi Satuan"},{path:"resi-massal",title:"Resi Massal"},{path:"riwayat-pengiriman",title:"Riwayat Pengiriman"}]},{path:"wallet",title:"Saldo",icon:"credit-card-outline"}],h=[{path:"overview",title:"Dashboard",icon:"activity-outline"},{path:"user-type",title:"Tipe User",icon:"bookmark-outline"},{path:"user",title:"User",icon:"person-add-outline"}];var g={data(){return{menus:p,isCollapse:!1}},computed:{user(){return this.$store.getters["auth/user"]}},methods:{handleOpen(){this.isCollapse=!1},handleClose(){this.isCollapse=!0}}},_=g,f=a(1001),b=(0,f.Z)(_,u,m,!1,null,null,null),v=b.exports,y=function(){var e=this,t=e._self._c;return t("nav",{staticClass:"nav-wrapper"},[t("div",{staticClass:"flex items-center justify-between w-full"},[t("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},e._l(e.paths,(function(a){return t("el-breadcrumb-item",{key:a.title,attrs:{to:a}},[e._v(" "+e._s(a.title)+" ")])})),1),t("el-dropdown",[t("span",{staticClass:"el-dropdown-link"},[t("strong",[e._v(e._s(e.user.name))]),t("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),t("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[t("el-dropdown-item",[t("button",{staticClass:"btn-reset",attrs:{type:"button"},on:{click:e.logout}},[e._v("Logout")])])],1)],1)],1)])},w=[];async function C(e){const t=await s["default"].axios({url:"/v1/login",method:"POST",data:e});return t.data}async function x(){const e=await s["default"].axios({url:"/v1/introspect",method:"GET"});return e.data}async function k(){const e=await s["default"].axios({url:"/v1/logout",method:"POST"});return e.data}var S={login:C,introspect:x,logout:k},T={data(){return{search:""}},computed:{paths(){const e=this.$route.path.split("/").slice(1);return e.map(((t,a)=>{const s=t.replace(/[^A-Za-z]/g," ").split(" ").map((e=>e.charAt(0).toUpperCase()+e.slice(1))).join(" "),i=`/${e.slice(0,a+1).join("/")}`;return{title:s.charAt(0).toUpperCase()+s.slice(1),path:i}}))},user(){return this.$store.getters["auth/user"]}},methods:{async logout(){await S.logout(),localStorage.removeItem("token"),await this.$store.dispatch("auth/introspect")}}},P=T,D=(0,f.Z)(P,y,w,!1,null,null,null),$=D.exports,O={name:"layout",components:{Sidebar:v,Navbar:$}},E=O,A=(0,f.Z)(E,c,d,!1,null,null,null),N=A.exports,j=function(){var e=this,t=e._self._c;return t("main",{staticClass:"flex"},[t("Sidebar"),t("div",{staticClass:"app-wrapper"},[t("Navbar"),t("transition",{attrs:{name:"el-fade-in",mode:"out-in"}},[t("router-view")],1)],1)],1)},R=[],L=function(){var e=this,t=e._self._c;return t("div",{staticClass:"sidebar-wrapper"},[t("el-menu",{attrs:{"default-active":e.$route.path,router:""},on:{open:e.handleOpen,close:e.handleClose,select:e.onSelect}},[t("div",{staticClass:"mt-2 p-2"},[t("el-image",{staticClass:"block m-auto",staticStyle:{width:"90%",height:"auto"},attrs:{src:"https://demo.permudahdakwah.com/images/fastorder.png",fit:"cover"}})],1),t("h2",{staticClass:"text-center text-gray"},[e._v("MySales")]),e._l(e.menus,(function(a,s){return t("div",{key:`menu-${s}`},[a.children?t("el-submenu",{class:`menu-${s}`,attrs:{index:`/mysales/${a.path}`}},[t("template",{slot:"title"},[t("eva-icon",{staticClass:"mr-1 mb-1",attrs:{name:a.icon}}),t("span",{attrs:{slot:"title"},slot:"title"},[e._v(e._s(a.title))])],1),t("el-menu-item-group",e._l(a.children,(function(i,l){return t("el-menu-item",{key:`sub-${s}-${l}`,attrs:{index:`/mysales/${a.path}/${i.path}`}},[i.icon?t("eva-icon",{staticClass:"mr-1 mb-1",attrs:{name:i.icon}}):e._e(),t("span",{attrs:{slot:"title"},slot:"title"},[e._v(e._s(i.title))])],1)})),1)],2):t("el-menu-item",{class:`menu-${s}`,attrs:{index:`/mysales/${a.path}`}},[t("eva-icon",{staticClass:"mr-1 mb-1",attrs:{name:a.icon,fill:a.isActive?"#FE634E":"#888"}}),t("span",{attrs:{slot:"title"},slot:"title"},[e._v(e._s(a.title))])],1)],1)}))],2)],1)},q=[],I={data(){return{menus:h.map((e=>({...e,isActive:`/mysales/${e.path}`===this.$route.path}))),isCollapse:!1}},computed:{user(){return this.$store.getters["auth/user"]}},methods:{handleOpen(){this.isCollapse=!1},handleClose(){this.isCollapse=!0},onSelect(e,t){this.menus=h.map((e=>({...e,isActive:t===this.$route.path})))}}},K=I,U=(0,f.Z)(K,L,q,!1,null,null,null),B=U.exports,M=function(){var e=this,t=e._self._c;return t("nav",{staticClass:"nav-wrapper"},[t("div",{staticClass:"flex items-center justify-between w-full"},[t("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},e._l(e.paths,(function(a){return t("el-breadcrumb-item",{key:a.title,attrs:{to:a}},[e._v(" "+e._s(a.title)+" ")])})),1),t("el-dropdown",[t("span",{staticClass:"el-dropdown-link"},[t("strong",[e._v(e._s(e.user.name))]),t("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),t("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[t("el-dropdown-item",[t("button",{staticClass:"btn-reset",attrs:{type:"button"},on:{click:e.logout}},[e._v("Logout")])])],1)],1)],1)])},H=[];async function Z(e){const t=await s["default"].http({url:"/v1/login",method:"POST",data:e});return t.data}async function G(){const e=await s["default"].http({url:"/v1/introspect",method:"GET"});return e.data}async function W(){const e=await s["default"].http({url:"/v1/logout",method:"POST"});return e.data}var V={login:Z,introspect:G,logout:W},F={data(){return{search:""}},computed:{paths(){const e=this.$route.path.split("/").slice(1);return e.map(((t,a)=>{const s=t.replace(/[^A-Za-z]/g," ").split(" ").map((e=>e.charAt(0).toUpperCase()+e.slice(1))).join(" "),i=`/${e.slice(0,a+1).join("/")}`;return{title:s.charAt(0).toUpperCase()+s.slice(1),path:i}}))},user(){return this.$store.getters["adminAuth/user"]}},methods:{async logout(){await V.logout(),localStorage.removeItem("admintoken"),await this.$store.dispatch("adminAuth/introspect")}}},J=F,z=(0,f.Z)(J,M,H,!1,null,null,null),Y=z.exports,Q={name:"layout",components:{Sidebar:B,Navbar:Y}},X=Q,ee=(0,f.Z)(X,j,R,!1,null,null,null),te=ee.exports,ae=function(){var e=this,t=e._self._c;return t("div",{staticClass:"flex h-screen w-screen items-center justify-center"},[t("div",{staticClass:"login-container"},[t("el-card",[t("el-image",{staticClass:"block m-auto",staticStyle:{width:"50%",height:"auto"},attrs:{src:"https://demo.permudahdakwah.com/images/fastorder.png",fit:"cover"}}),t("h4",{staticClass:"text-center"},[e._v("Login ke Akun Anda")]),t("el-form",{ref:"form",staticClass:"mb-2",attrs:{model:e.model,rules:e.rules},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.submit.apply(null,arguments)}}},[t("el-form-item",{attrs:{prop:"email",label:"Email"}},[t("el-input",{attrs:{clearable:""},model:{value:e.model.email,callback:function(t){e.$set(e.model,"email",t)},expression:"model.email"}})],1),t("el-form-item",{attrs:{prop:"password",label:"Password"}},[t("el-input",{attrs:{type:"password",clearable:""},model:{value:e.model.password,callback:function(t){e.$set(e.model,"password",t)},expression:"model.password"}})],1)],1),t("el-button",{staticClass:"w-full",attrs:{type:"primary"},on:{click:e.submit}},[e._v("Login")])],1)],1)])},se=[],ie={data(){return{model:{email:"",password:""},rules:{email:[{required:!0,trigger:"blur",message:"Email wajib diisi"}],password:[{required:!0,trigger:"blur",message:"Password wajib diisi"}]}}},methods:{submit(){this.$refs.form.validate((async e=>{if(e)try{const e={email:this.model.email,password:this.model.password},t=await S.login(e);localStorage.setItem("token",t.data.token),await this.$store.dispatch("auth/introspect"),await this.$router.push({name:"dashboard-overview"})}catch(t){}}))}}},le=ie,re=(0,f.Z)(le,ae,se,!1,null,null,null),oe=re.exports,ne=function(){var e=this,t=e._self._c;return t("div",{staticClass:"h-screen w-screen flex items-center"},[t("div",{staticClass:"w-full"},[t("h1",{staticClass:"text-center"},[e._v("404")]),t("h3",{staticClass:"text-center mb-0"},[e._v("Page Not Found")]),t("div",{staticClass:"w-full flex justify-center"},[t("el-button",{staticClass:"text-center",attrs:{type:"text"},on:{click:function(t){return e.$router.go(-1)}}},[e._v("Go Back")])],1)])])},ce=[],de={},ue=(0,f.Z)(de,ne,ce,!1,null,null,null),me=ue.exports,pe=a(408);const he=()=>({isLoggedIn:!1,user:{id:null,name:"",email:"",date_of_birth:"",phone_no:"",address:""}}),ge={SET_LOGGED_IN:e=>{e.isLoggedIn=!0},SET_USER_DETAIL:(e,t)=>{e.user={...t}},RESET_STATE:e=>{e.user={...he().user}},SET_LOADED:e=>{e.loaded=!0}},_e={async introspect({commit:e}){try{const t=await S.introspect();e("SET_LOGGED_IN"),e("SET_USER_DETAIL",t.data)}catch(t){}e("SET_LOADED")}},fe={isLoaded:e=>e.loaded,isLoggedIn:e=>e.isLoggedIn,user:e=>e.user};var be={namespaced:!0,state:{...he(),loaded:!1},mutations:ge,actions:_e,getters:fe};const ve=()=>({isLoggedIn:!1,user:{id:null,name:"",email:"",address:""}}),ye={SET_LOGGED_IN:e=>{e.isLoggedIn=!0},SET_USER_DETAIL:(e,t)=>{e.user={...t}},RESET_STATE:e=>{e.user={...ve().user}},SET_LOADED:e=>{e.loaded=!0}},we={async introspect({commit:e}){try{const t=await V.introspect();e("SET_LOGGED_IN"),e("SET_USER_DETAIL",t.data)}catch(t){}e("SET_LOADED")}},Ce={isLoaded:e=>e.loaded,isLoggedIn:e=>e.isLoggedIn,user:e=>e.user};var xe={namespaced:!0,state:{...ve(),loaded:!1},mutations:ye,actions:we,getters:Ce};s["default"].use(pe.ZP);var ke=new pe.ZP.Store({state:{},getters:{},mutations:{},actions:{},modules:{auth:be,adminAuth:xe}}),Se=function(){var e=this,t=e._self._c;return t("div",[t("h1",[e._v("Overview")]),t("el-row",{attrs:{gutter:20}},[t("el-col",{staticClass:"mb-2",attrs:{xs:24,sm:24,md:12,lg:8,xl:8}},[t("el-card",{staticClass:"bg-primary"},[t("p",{staticClass:"text-light mt-0"},[e._v("Total Saldo")]),t("h2",{staticClass:"text-light black text-right"},[e._v(e._s(e._f("formatCurrency")(e.user.wallet.amount)))])])],1),t("el-col",{staticClass:"mb-2",attrs:{xs:24,sm:24,md:12,lg:8,xl:8}},[t("el-card",[t("p",{staticClass:"text-gray mt-0"},[e._v("Saldo COD")]),t("h2",{staticClass:"black text-right"},[e._v("Rp.100,000,000")])])],1),t("el-col",{staticClass:"mb-2",attrs:{xs:24,sm:24,md:12,lg:8,xl:8}},[t("el-card",[t("p",{staticClass:"text-gray mt-0"},[e._v("Cashback Fee")]),t("h2",{staticClass:"black text-right"},[e._v("Rp.100,000,000")])])],1)],1),t("el-row",{attrs:{gutter:20}},[t("el-col",{staticClass:"mb-2",attrs:{xs:24,sm:24,md:12,lg:8,xl:8}},[t("el-card",[t("p",{staticClass:"text-gray mt-0"},[e._v("Estimasi Saldo COD")]),t("h2",{staticClass:"black text-right"},[e._v("Rp.100,000,000")])])],1),t("el-col",{staticClass:"mb-2",attrs:{xs:24,sm:24,md:12,lg:8,xl:8}},[t("el-card",[t("p",{staticClass:"text-gray mt-0"},[e._v("Estimasi Cashback")]),t("h2",{staticClass:"black text-right"},[e._v("Rp.100,000,000")])])],1),t("el-col",{staticClass:"mb-2",attrs:{xs:24,sm:24,md:12,lg:8,xl:8}},[t("el-card",[t("p",{staticClass:"text-gray mt-0"},[e._v("Total Pengiriman")]),t("h2",{staticClass:"black text-right"},[e._v(e._s(e.overviews.totalDelivery))])])],1)],1),t("el-row",{attrs:{gutter:20}},[t("el-col",{staticClass:"mb-2",attrs:{xs:24,sm:24,md:12,lg:12,xl:12}},[t("el-card",[t("h3",{staticClass:"my-0 text-gray"},[e._v("Jumlah Pengiriman")]),t("apex-charts",{attrs:{type:"area",height:"350",options:e.chartOptions,series:e.series}})],1)],1),t("el-col",{staticClass:"mb-2",attrs:{xs:24,sm:24,md:12,lg:12,xl:12}},[t("el-card",[t("h3",{staticClass:"my-0 text-gray"},[e._v("Tipe Pengiriman")]),t("apex-charts",{attrs:{type:"area",height:"350",options:e.chartOptions,series:e.series}})],1)],1)],1)],1)},Te=[];const Pe="/v1/awb";async function De(e){const t=await s["default"].axios({url:`${Pe}/destination`,method:"GET",params:e});return t.data}async function $e(e){const t=await s["default"].axios({url:`${Pe}/origin`,method:"GET",params:e});return t.data}async function Oe(e){const t=await s["default"].axios({url:`${Pe}/tarrif`,method:"POST",data:e});return t.data}async function Ee(e){const t=await s["default"].axios({url:Pe,method:"POST",data:e});return t.data}async function Ae(e){const t=await s["default"].axios({url:`${Pe}/bulk`,method:"POST",data:e});return t.data}async function Ne(e){const t=await s["default"].axios({url:Pe,method:"GET",params:e});return t.data}var je={getDestinations:De,getOrigins:$e,checkTarrif:Oe,generateAWB:Ee,getDeliveryHistory:Ne,bulkGenerateAWB:Ae},Re=a(2185),Le=a.n(Re),qe={components:{ApexCharts:Le()},data(){return{series:[{name:"series1",data:[31,40,28,51,42,109,100]},{name:"series2",data:[11,32,45,32,34,52,41]}],chartOptions:{chart:{height:350,type:"area",toolbar:{show:!1}},dataLabels:{enabled:!1},stroke:{curve:"smooth"},xaxis:{type:"datetime",categories:["2018-09-19T00:00:00.000Z","2018-09-19T01:30:00.000Z","2018-09-19T02:30:00.000Z","2018-09-19T03:30:00.000Z","2018-09-19T04:30:00.000Z","2018-09-19T05:30:00.000Z","2018-09-19T06:30:00.000Z"]},tooltip:{x:{format:"dd/MM/yy HH:mm"}}},overviews:{totalDelivery:0}}},computed:{user(){return this.$store.getters["auth/user"]}},mounted(){this.fetchDeliveries()},methods:{async fetchDeliveries(){try{const e=await je.getDeliveryHistory();this.overviews.totalDelivery=e.data.total}catch(e){console.log(e)}}}},Ie=qe,Ke=(0,f.Z)(Ie,Se,Te,!1,null,null,null),Ue=Ke.exports,Be=function(){var e=this,t=e._self._c;return t("div",[t("el-card",{staticClass:"bg-primary mt-3 mb-2"},[t("h4",{staticClass:"text-light"},[e._v("Total Kiriman")]),t("h1",{staticClass:"text-right text-light"},[e._v("0")])]),t("el-card",[t("h2",{staticClass:"my-0"},[e._v("Monitoring")]),t("el-divider"),t("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData}},[t("el-table-column",{attrs:{prop:"date",label:"Penerima",sortable:"",width:"180"}}),t("el-table-column",{attrs:{prop:"name",label:"Tanggal Input",sortable:"",width:"180"}}),t("el-table-column",{attrs:{prop:"address",label:"Resi",sortable:""}}),t("el-table-column",{attrs:{prop:"address",label:"Tipe Kiriman",sortable:""}}),t("el-table-column",{attrs:{prop:"address",label:"Drop/Pick Up",sortable:""}}),t("el-table-column",{attrs:{prop:"address",label:"Status Kiriman",sortable:""}})],1),t("div",{staticClass:"flex justify-between items-center mt-2"},[t("el-pagination",{attrs:{layout:"prev, pager, next",total:50}}),t("small",[e._v("Total: "),t("strong",[e._v("50")])])],1)],1)],1)},Me=[],He={data(){return{tableData:[]}}},Ze=He,Ge=(0,f.Z)(Ze,Be,Me,!1,null,null,null),We=Ge.exports,Ve=function(){var e=this,t=e._self._c;return t("div",[t("h1",[e._v("Cek Ongkir")]),t("el-card",[t("el-form",{ref:"form",attrs:{model:e.model},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.submit.apply(null,arguments)}}},[t("el-row",{attrs:{gutter:20}},[t("el-col",{attrs:{xs:24,sm:24,md:12,lg:8,xl:8}},[t("h3",[e._v("Asal")]),t("p",{staticClass:"text-gray"},[e._v("Pilih kota "),t("strong",[e._v("Asal")]),e._v(" pengiriman.")]),t("el-form-item",{attrs:{prop:"origin",rules:{required:!0,trigger:"blur",message:"Kota Asal wajib diisi"}}},[t("el-select",{staticClass:"w-full",attrs:{filterable:"",remote:"","reserve-keyword":"",placeholder:"Pilih asal","remote-method":e.remoteMethodOrigin},model:{value:e.model.origin,callback:function(t){e.$set(e.model,"origin",t)},expression:"model.origin"}},e._l(e.filteredOrigins,(function(a){return t("el-option",{key:a.city_code,attrs:{value:a.city_code,label:a.city_name}},[t("span",{staticStyle:{float:"left"}},[e._v(e._s(a.city_name))]),t("span",{staticStyle:{float:"right",color:"#8492a6","font-size":"12px"}},[e._v(e._s(a.city_code))])])})),1)],1)],1),t("el-col",{attrs:{xs:24,sm:24,md:12,lg:8,xl:8}},[t("h3",[e._v("Tujuan")]),t("p",{staticClass:"text-gray"},[e._v("Pilih kota "),t("strong",[e._v("Tujuan")]),e._v(" pengiriman.")]),t("el-form-item",{attrs:{prop:"destination",rules:{required:!0,trigger:"blur",message:"Kota Tujuan wajib diisi"}}},[t("el-select",{staticClass:"w-full",attrs:{filterable:"",remote:"","reserve-keyword":"",placeholder:"Pilih tujuan","remote-method":e.remoteMethodDestination},model:{value:e.model.destination,callback:function(t){e.$set(e.model,"destination",t)},expression:"model.destination"}},e._l(e.filterdDestinations,(function(a){return t("el-option",{key:a.city_code,attrs:{label:a.city_name,value:a.city_code}},[t("span",{staticStyle:{float:"left"}},[e._v(e._s(a.city_name))]),t("span",{staticStyle:{float:"right",color:"#8492a6","font-size":"12px"}},[e._v(e._s(a.city_code))])])})),1)],1)],1),t("el-col",{attrs:{xs:24,sm:24,md:12,lg:8,xl:8}},[t("h3",[e._v("Berat")]),t("p",{staticClass:"text-gray"},[e._v("dalam satuan Kg.")]),t("el-form-item",{attrs:{prop:"weight",rules:{required:!0,trigger:"blur",message:"Berat wajib diisi"}}},[t("el-input",{attrs:{placeholder:"Kg",type:"number"},model:{value:e.model.weight,callback:function(t){e.$set(e.model,"weight",t)},expression:"model.weight"}})],1)],1)],1)],1),t("el-button",{staticClass:"w-full mt-3 py-2",attrs:{type:"primary",loading:e.loading},on:{click:e.submit}},[e._v("Cek Ongkir")])],1),e.isSearched?t("div",{staticClass:"mt-2"},[e.isSearched&&0===e.prices.length?t("div",{staticClass:"mt-3"},[t("el-empty",{attrs:{description:"Data tidak ditemukan."}})],1):e._e(),t("el-row",{attrs:{gutter:20}},e._l(e.prices,(function(a,s){return t("el-col",{key:`price-${s}`,staticClass:"mb-2",attrs:{xs:12,sm:12,md:12,lg:8,xl:8}},[t("el-card",[t("el-row",{attrs:{gutter:16}},[t("el-col",{attrs:{span:7}},[t("el-image",{staticStyle:{width:"80px"},attrs:{src:"https://upload.wikimedia.org/wikipedia/commons/9/92/New_Logo_JNE.png"}})],1),t("el-col",{attrs:{span:17}},[t("el-tag",{staticClass:"service-tag",attrs:{type:"info",outlined:""}},[t("strong",[e._v(e._s(a.service_display))])]),t("h2",{staticClass:"my-1"},[e._v(e._s(e._f("formatCurrency")(a.discount_price)))]),t("small",{staticClass:"text-gray mb-1 block"},[t("strike",[e._v(e._s(e._f("formatCurrency")(a.price)))])],1),t("small",{staticClass:"text-gray"},[e._v("Tipe barang: "),t("strong",[e._v(e._s(a.goods_type))])])],1)],1)],1)],1)})),1)],1):e._e()],1)},Fe=[],Je={data(){return{loading:!1,model:{destination:"",origin:"",weight:null},destinations:[],origins:[],searchOrigin:"",searchDestination:"",prices:[],isSearched:!1,indexedOrigins:{},indexedDestination:{}}},created(){this.fetchAllData()},computed:{filterdDestinations(){return""!==this.searchDestination?this.destinations.filter((e=>e.city_name.toLowerCase().includes(this.searchDestination.toLowerCase()))):this.destinations},filteredOrigins(){return""!==this.searchOrigin?this.origins.filter((e=>e.city_name.toLowerCase().includes(this.searchOrigin.toLowerCase()))):this.origins}},methods:{async fetchAllData(){this.loading=!0;try{const e=await je.getDestinations(),t=await je.getOrigins();this.destinations=e.data,this.origins=t.data}catch(e){}this.loading=!1},async remoteMethodOrigin(e){this.searchOrigin=e;const t=await je.getOrigins({q:e});this.origins=t.data},async remoteMethodDestination(e){this.searchDestination=e;const t=await je.getDestinations({q:e});this.destinations=t.data},submit(){this.$refs.form.validate((async e=>{if(e){this.loading=!0;try{const e=await je.checkTarrif(this.model);this.isSearched=!0,this.prices=e.data.price||[],e.data.error&&this.$notify({type:"error",title:"Error",message:e.data.error})}catch(t){}this.loading=!1}}))}}},ze=Je,Ye=(0,f.Z)(ze,Ve,Fe,!1,null,null,null),Qe=Ye.exports,Xe=function(){var e=this,t=e._self._c;return t("div",[t("h1",[e._v("Saldo")]),t("el-row",{attrs:{gutter:20}},[t("el-col",{staticClass:"mb-2",attrs:{xs:24,sm:24,md:12,lg:8,xl:8}},[t("el-card",{staticClass:"bg-primary"},[t("p",{staticClass:"text-light"},[e._v("Total Saldo")]),t("h1",{staticClass:"text-light text-right"},[e._v(e._s(e._f("formatCurrency")(e.user.wallet.amount)))])])],1),t("el-col",{staticClass:"mb-2",attrs:{xs:24,sm:24,md:12,lg:8,xl:8}},[t("el-card",[t("p",{staticClass:"text-gray"},[e._v("Proses Penarikan")]),t("h1",{staticClass:"text-right"},[e._v("Rp.1,000,000")])])],1),t("el-col",{staticClass:"mb-2",attrs:{xs:24,sm:24,md:12,lg:8,xl:8}},[t("div",{staticClass:"w-full"},[t("el-button",{staticClass:"w-full mb-2",attrs:{type:"primary",icon:"el-icon-plus"},on:{click:e.topup}},[e._v(" Tambah Saldo ")])],1),t("div",{staticClass:"w-full"},[t("el-button",{staticClass:"w-full ml-0",attrs:{type:"primary",icon:"el-icon-download"}},[e._v(" Tarik Saldo ")])],1)])],1),t("el-row",{attrs:{gutter:20}},[t("el-col",{staticClass:"mb-2",attrs:{xs:12,sm:12,md:12,lg:6,xl:6}},[t("el-card",[t("p",{staticClass:"text-gray"},[e._v("Saldo COD")]),t("h3",[e._v("Rp.1,000,000")])])],1),t("el-col",{staticClass:"mb-2",attrs:{xs:12,sm:12,md:12,lg:6,xl:6}},[t("el-card",[t("p",{staticClass:"text-gray"},[e._v("Cashback")]),t("h3",[e._v("Rp.1,000,000")])])],1),t("el-col",{staticClass:"mb-2",attrs:{xs:12,sm:12,md:12,lg:6,xl:6}},[t("el-card",{staticClass:"bg-gray"},[t("p",{staticClass:"text-light"},[e._v("Estimasi COD")]),t("h3",{staticClass:"text-light"},[e._v("Rp.1,000,000")])])],1),t("el-col",{staticClass:"mb-2",attrs:{xs:12,sm:12,md:12,lg:6,xl:6}},[t("el-card",{staticClass:"bg-gray"},[t("p",{staticClass:"text-light"},[e._v("Estimasi Cashback")]),t("h3",{staticClass:"text-light"},[e._v("Rp.1,000,000")])])],1)],1),t("el-card",[t("h3",[e._v("Riwayat Saldo")]),t("el-divider"),t("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData}},[t("el-table-column",{attrs:{label:"Tipe",width:"180"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("el-tag",{staticClass:"w-full text-center",attrs:{type:e.tagType(a.row)}},[t("strong",[e._v(e._s(e.transactionTypePrefix[a.row.transaction_type]))])])]}}])}),t("el-table-column",{attrs:{prop:"reference_no",label:"No Referensi",width:"180"}}),t("el-table-column",{attrs:{label:"Saldo Awal"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("p",{staticClass:"text-right my-0"},[t("strong",[e._v(e._s(e._f("formatCurrency")(a.row.original_amount)))])])]}}])}),t("el-table-column",{attrs:{label:"Saldo Kiriman"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("p",{staticClass:"text-right my-0",class:`text-${e.tagType(a.row)}`},[t("strong",[e._v(e._s(e._f("formatCurrency")(a.row.amount)))])])]}}])}),t("el-table-column",{attrs:{label:"Tanggal",sortable:""},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(e._f("formatDate")(t.row.created_at))+" ")]}}])})],1),t("div",{staticClass:"flex justify-between items-center mt-2"},[t("el-pagination",{attrs:{layout:"prev, pager, next",total:e.total,"page-size":10,"current-page":e.currentPage},on:{"update:currentPage":function(t){e.currentPage=t},"update:current-page":function(t){e.currentPage=t},"current-change":e.handlePageChange}}),t("small",[e._v("Total: "),t("strong",[e._v(e._s(e.total))])])],1)],1),t("el-dialog",{attrs:{visible:e.dialogTopupVisible,title:"Topup Saldo",width:"30%"},on:{"update:visible":function(t){e.dialogTopupVisible=t}}},[t("el-form",{ref:"topup",attrs:{model:e.model}},[t("el-form-item",{attrs:{prop:"amount",label:"Nominal"}},[t("el-input",{attrs:{clearble:""},model:{value:e.model.amount,callback:function(t){e.$set(e.model,"amount",t)},expression:"model.amount"}})],1)],1),t("el-button",{staticClass:"py-2 w-full",attrs:{type:"primary",loading:e.loading},on:{click:e.submit}},[e._v("Submit")])],1)],1)},et=[];const tt="/v1/wallet";async function at(e){const t=await s["default"].axios({url:`${tt}/topup`,method:"PATCH",data:e});return t.data}async function st(e){const t=await s["default"].axios({url:`${tt}/history`,method:"GET",params:e});return t.data}var it={topUpWallet:at,getWalletHistory:st};const lt={TOPUP:1,WITHDRAWAL:2,DEDUCTION:3,CASHBACK:4,BULK_DEDUCTION:5},rt={[lt.TOPUP]:"TOPUP",[lt.WITHDRAWAL]:"WITHDRAWAL",[lt.DEDUCTION]:"DEDUCTION",[lt.BULK_DEDUCTION]:"DEDUCTION",[lt.CASHBACK]:"CASHBACK"};var ot={data(){return{transactionTypePrefix:rt,loading:!1,tableData:[],total:0,currentPage:1,dialogTopupVisible:!1,model:{amount:null},search:""}},computed:{user(){return this.$store.getters["auth/user"]}},created(){this.fetchHistoricalData()},methods:{topup(){this.dialogTopupVisible=!0},tagType(e){return[lt.TOPUP,lt.CASHBACK].includes(e.transaction_type)?"success":"danger"},async fetchHistoricalData(){try{const e={page:this.currentPage,q:this.search,type:this.filterType},t=await it.getWalletHistory(e);this.total=t.data.total,this.tableData=t.data.data}catch(e){}},handlePageChange(e){this.currentPage=e,this.fetchHistoricalData()},submit(){this.$refs.topup.validate((async e=>{if(e){this.loading=!0;try{await it.topUpWallet(this.model),await this.$store.dispatch("auth/introspect"),this.fetchHistoricalData(),this.dialogTopupVisible=!1,this.model.amount=null,this.$notify({type:"success",title:"Sukses",message:"Topup saldo berhasil"})}catch(t){t?.response?.data?.error?.amount&&this.$notify({type:"error",message:t?.response?.data?.error?.amount.join(",")})}this.loading=!1}}))}}},nt=ot,ct=(0,f.Z)(nt,Xe,et,!1,null,null,null),dt=ct.exports,ut=function(){var e=this,t=e._self._c;return t("div",[t("h1",[e._v("Resi Satuan")]),t("el-card",[t("el-steps",{attrs:{active:e.currentStep,"align-center":""}},[t("el-step",{attrs:{title:"Informasi Pengiriman",icon:"el-icon-document"}}),t("el-step",{attrs:{title:"Jenis Layanan",icon:"el-icon-box"}}),t("el-step",{attrs:{title:"Sukses",icon:"el-icon-circle-check"}})],1)],1),t("transition-group",{attrs:{name:"el-fade-in",mode:"out-in"}},[t("el-form",{directives:[{name:"show",rawName:"v-show",value:0===e.currentStep,expression:"currentStep === 0"}],key:"el-form",ref:"form",staticClass:"mt-3",attrs:{model:e.model,"label-position":"top",rules:e.rules}},[t("el-row",{staticClass:"mb-2",attrs:{gutter:20}},[t("el-col",{attrs:{xs:24,sm:24,md:12,lg:12,xl:12}},[t("el-card",[t("h2",{staticClass:"text-primary"},[e._v("Data Pengirim")]),t("el-checkbox",{on:{change:t=>e.onToggleNewContact(t,"sender")},model:{value:e.newSender,callback:function(t){e.newSender=t},expression:"newSender"}},[e._v("Buat pengirim baru")]),t("transition",{attrs:{name:"el-fade-in"}},[e.newSender?e._e():t("el-form-item",{attrs:{prop:"shipper_contact_id",label:"Nama pengirim"}},[t("el-select",{staticClass:"w-full",attrs:{"value-key":"id",placeholder:"Pilih pengirim"},on:{change:e.onHandleChange},model:{value:e.model.shipper_contact_id,callback:function(t){e.$set(e.model,"shipper_contact_id",t)},expression:"model.shipper_contact_id"}},e._l(e.shipperContact,(function(e){return t("el-option",{key:`shipper-${e.id}`,attrs:{label:e.name,value:e}})})),1)],1)],1),t("el-collapse-transition",[e.newSender?t("div",[t("el-form-item",{attrs:{prop:"shipper.name",label:"Nama Pengirim"}},[t("el-input",{attrs:{placeholder:"Nama pengirim",clearable:""},model:{value:e.model.shipper.name,callback:function(t){e.$set(e.model.shipper,"name",t)},expression:"model.shipper.name"}})],1),t("el-form-item",{attrs:{prop:"shipper.phone_no",label:"Nomor Telepon/WA"}},[t("el-input",{attrs:{placeholder:"08x",clearable:"",type:"number"},model:{value:e.model.shipper.phone_no,callback:function(t){e.$set(e.model.shipper,"phone_no",e._n(t))},expression:"model.shipper.phone_no"}})],1),t("el-form-item",{attrs:{prop:"shipper.city_code",label:"Kota asal kiriman",rules:{required:!0,trigger:"blur",message:"Kota asal pengirim wajib diisi"}}},[t("el-select",{staticClass:"w-full",attrs:{filterable:"",remote:"","reserve-keyword":"",placeholder:"Pilih kota pengiriman","remote-method":e.remoteMethodOrigin,"value-key":"city_code"},on:{change:t=>e.onHandleChange(t,"shipper")},model:{value:e.model.shipper.city_code,callback:function(t){e.$set(e.model.shipper,"city_code",t)},expression:"model.shipper.city_code"}},e._l(e.origins,(function(e){return t("el-option",{key:`origin-${e.city_code}`,attrs:{label:e.city_name,value:e}})})),1)],1),t("el-form-item",{attrs:{prop:"shipper.postal_code",label:"Kode Pos"}},[t("el-input",{attrs:{placeholder:"Kode Pos",clearable:"",type:"number"},model:{value:e.model.shipper.postal_code,callback:function(t){e.$set(e.model.shipper,"postal_code",e._n(t))},expression:"model.shipper.postal_code"}})],1),t("el-form-item",{attrs:{prop:"shipper.address",label:"Alamat",rules:{required:!0,trigger:"blur",message:"Alamat wajib diisi"}}},[t("el-input",{attrs:{placeholder:"Alamat Lengkap",type:"textarea",rows:6,clearable:""},model:{value:e.model.shipper.address,callback:function(t){e.$set(e.model.shipper,"address",t)},expression:"model.shipper.address"}})],1)],1):e._e()])],1)],1),t("el-col",{attrs:{xs:24,sm:24,md:12,lg:12,xl:12}},[t("el-card",[t("h2",{staticClass:"text-primary"},[e._v("Data Penerima")]),t("el-checkbox",{on:{change:t=>e.onToggleNewContact(t,"receiver")},model:{value:e.newReceipient,callback:function(t){e.newReceipient=t},expression:"newReceipient"}},[e._v("Buat penerima baru")]),t("transition",{attrs:{name:"el-fade-in"}},[e.newReceipient?e._e():t("el-form-item",{attrs:{prop:"receiver_contact_id",label:"Nama penerima",rules:{required:!0,trigger:"blur",message:"Nama penerima wajib diisi"}}},[t("el-select",{staticClass:"w-full",attrs:{placeholder:"Pilih pengirim","value-key":"id"},on:{change:e.onHandleChange},model:{value:e.model.receiver_contact_id,callback:function(t){e.$set(e.model,"receiver_contact_id",t)},expression:"model.receiver_contact_id"}},e._l(e.receiverContact,(function(e){return t("el-option",{key:e.id,attrs:{label:e.name,value:e}})})),1)],1)],1),t("el-collapse-transition",[e.newReceipient?t("div",[t("el-form-item",{attrs:{prop:"receiver.name",label:"Nama Pengirim",rules:{required:!0,trigger:"blur",message:"Nama penerima wajib diisi"}}},[t("el-input",{attrs:{placeholder:"Nama pengirim",clearable:""},model:{value:e.model.receiver.name,callback:function(t){e.$set(e.model.receiver,"name",t)},expression:"model.receiver.name"}})],1),t("el-form-item",{attrs:{prop:"receiver.phone_no",label:"Nomor Telepon/WA"}},[t("el-input",{attrs:{placeholder:"08x",clearable:"",type:"number"},model:{value:e.model.receiver.phone_no,callback:function(t){e.$set(e.model.receiver,"phone_no",t)},expression:"model.receiver.phone_no"}})],1),t("el-form-item",{attrs:{prop:"receiver.city_code",label:"Kota asal kiriman",rules:{required:!0,trigger:"blur",message:"Kota penerima wajib diisi"}}},[t("el-select",{staticClass:"w-full",attrs:{filterable:"",remote:"","reserve-keyword":"",placeholder:"Pilih kota destinasi","remote-method":e.remoteMethodDestination,"value-key":"city_code"},on:{change:t=>e.onHandleChange(t,"receiver")},model:{value:e.model.receiver.city_code,callback:function(t){e.$set(e.model.receiver,"city_code",t)},expression:"model.receiver.city_code"}},e._l(e.destinations,(function(e){return t("el-option",{key:`destination-${e.city_code}`,attrs:{label:e.city_name,value:e}})})),1)],1),t("el-form-item",{attrs:{prop:"receiver.postal_code",label:"Kode Pos"}},[t("el-input",{attrs:{placeholder:"Kode Pos",clearable:"",type:"number"},model:{value:e.model.receiver.postal_code,callback:function(t){e.$set(e.model.receiver,"postal_code",t)},expression:"model.receiver.postal_code"}})],1),t("el-form-item",{attrs:{prop:"receiver.address",label:"Alamat",rules:{required:!0,trigger:"blur",message:"Alamat wajib diisi"}}},[t("el-input",{attrs:{placeholder:"Alamat Lengkap",type:"textarea",rows:6,clearable:""},model:{value:e.model.receiver.address,callback:function(t){e.$set(e.model.receiver,"address",t)},expression:"model.receiver.address"}})],1)],1):e._e()])],1)],1)],1),t("el-card",[t("h2",{staticClass:"text-primary"},[e._v("Data Kiriman")]),t("el-form-item",{attrs:{prop:"vehicle",label:"Kendaraan Pickup",rules:{required:!0,trigger:"blur",message:"Kendaraan wajib diisi"}}},[t("el-select",{staticClass:"w-full",attrs:{placeholder:"Pilih kendaraan"},model:{value:e.model.vehicle,callback:function(t){e.$set(e.model,"vehicle",t)},expression:"model.vehicle"}},e._l(e.vehicles,(function(e){return t("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),t("el-row",{staticClass:"mb-2",attrs:{gutter:20}},[t("el-col",{attrs:{xs:24,sm:24,md:12,lg:8,xl:8}},[t("el-form-item",{attrs:{prop:"cod",label:"Jenis Kiriman",rules:{required:!0,trigger:"blur",message:"Jenis Pengiriman wajib diisi"}}},[t("el-select",{staticClass:"w-full",attrs:{placeholder:"Non COD"},model:{value:e.model.cod,callback:function(t){e.$set(e.model,"cod",t)},expression:"model.cod"}},[t("el-option",{attrs:{label:"Non-COD",value:e.serviceType.NON_COD}}),t("el-option",{attrs:{label:"COD",value:e.serviceType.COD}})],1)],1)],1),t("el-col",{attrs:{xs:24,sm:24,md:12,lg:8,xl:8}},[t("el-form-item",{attrs:{prop:"pickup_type",label:"PickUp / Drop Off",rules:{required:!0,trigger:"blur",message:"Field wajib diisi"}}},[t("el-select",{staticClass:"w-full",attrs:{placeholder:"PickUp"},model:{value:e.model.pickup_type,callback:function(t){e.$set(e.model,"pickup_type",t)},expression:"model.pickup_type"}},e._l(e.pickupTypes,(function(e){return t("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1)],1),t("el-col",{attrs:{xs:24,sm:24,md:12,lg:8,xl:8}},[t("el-form-item",{attrs:{prop:"agent",label:"Pilih Agent"}},[t("el-select",{staticClass:"w-full",attrs:{placeholder:"Pilih Agent"},model:{value:e.model.agent,callback:function(t){e.$set(e.model,"agent",t)},expression:"model.agent"}},e._l(e.agents,(function(e){return t("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1)],1)],1),t("el-row",{staticClass:"mb-2",attrs:{gutter:20}},[t("el-col",{attrs:{xs:24,sm:24,md:12,lg:8,xl:8}},[t("el-form-item",{attrs:{prop:"weight",label:"Berat Kiriman (Kg)"}},[t("el-input",{attrs:{placeholder:"Kg"},model:{value:e.model.weight,callback:function(t){e.$set(e.model,"weight",e._n(t))},expression:"model.weight"}})],1)],1),t("el-col",{attrs:{xs:24,sm:24,md:12,lg:8,xl:8}},[t("el-form-item",{attrs:{prop:"quantity",label:"Jumlah barang",rules:{required:!0,trigger:"blur",message:"Jumlah barang wajib diisi"}}},[t("el-input-number",{attrs:{min:1},model:{value:e.model.quantity,callback:function(t){e.$set(e.model,"quantity",t)},expression:"model.quantity"}})],1)],1)],1),t("el-row",{staticClass:"mb-2",attrs:{gutter:20}},[t("el-col",{attrs:{xs:24,sm:24,md:12,lg:12,xl:12}},[t("el-form-item",{attrs:{prop:"goods_descriptions",label:"Deskripsi Barang",rules:{required:!0,trigger:"blur",message:"Deskripsi barang wajib diisi"}}},[t("el-input",{attrs:{type:"textarea",rows:6},model:{value:e.model.goods_descriptions,callback:function(t){e.$set(e.model,"goods_descriptions",t)},expression:"model.goods_descriptions"}})],1)],1),t("el-col",{attrs:{xs:24,sm:24,md:12,lg:12,xl:12}},[t("el-form-item",{attrs:{prop:"handling_instructions",label:"Instruksi Khusus"}},[t("el-input",{attrs:{type:"textarea",rows:6},model:{value:e.model.handling_instructions,callback:function(t){e.$set(e.model,"handling_instructions",t)},expression:"model.handling_instructions"}})],1)],1)],1),t("el-row",{staticClass:"mb-2",attrs:{gutter:20}},[t("el-col",{attrs:{xs:24,sm:24,md:12,lg:12,xl:12}},[t("el-form-item",{attrs:{prop:"goods_price",label:"Harga Barang",rules:{required:!0,trigger:"blur",message:"Harga barang wajib diisi"}}},[t("el-input",{attrs:{placeholder:"Harga Barang",type:"number"},model:{value:e.model.goods_price,callback:function(t){e.$set(e.model,"goods_price",t)},expression:"model.goods_price"}},[t("template",{slot:"prepend"},[e._v("Rp.")])],2),t("el-checkbox",{staticClass:"mt-4",model:{value:e.model.insured,callback:function(t){e.$set(e.model,"insured",t)},expression:"model.insured"}},[e._v("Asuransi")])],1)],1)],1),t("el-divider"),t("div",{staticClass:"flex justify-end"},[t("el-button",{staticClass:"px-2",attrs:{type:"primary",loading:e.isLoading},on:{click:e.submit}},[e._v("Selanjutnya")])],1)],1)],1),1===e.currentStep?t("div",{key:"service",staticClass:"mt-2"},[t("el-button",{staticClass:"mb-2",attrs:{type:"text",icon:"el-icon-arrow-left"},on:{click:function(t){e.currentStep-=1}}},[e._v("Informasi Pengiriman")]),0===e.services.length?t("div",{staticClass:"mt-3"},[t("el-empty",{attrs:{description:"Jenis Layanan tidak ditemukan."}})],1):e._e(),t("el-row",{attrs:{gutter:20}},e._l(e.services,(function(a,s){return t("el-col",{key:`price-${s}`,staticClass:"mb-2",attrs:{xs:12,sm:12,md:12,lg:8,xl:8}},[t("button",{staticClass:"reset",attrs:{type:"button"},on:{click:function(t){return e.onClickPrice(a)}}},[t("el-card",{staticClass:"cursor",class:a.selected&&"bg-gray"},[t("el-row",{attrs:{gutter:16}},[t("el-col",{attrs:{span:7}},[t("el-image",{staticStyle:{width:"80px"},attrs:{src:"https://upload.wikimedia.org/wikipedia/commons/9/92/New_Logo_JNE.png"}})],1),t("el-col",{attrs:{span:17}},[t("el-tag",{staticClass:"service-tag",attrs:{type:"info",outlined:""}},[t("strong",[e._v(e._s(a.service_display))])]),t("h2",{staticClass:"my-1"},[e._v(e._s(e._f("formatCurrency")(a.discount_price)))]),t("small",{staticClass:"text-gray mb-1 block"},[t("strike",[e._v(e._s(e._f("formatCurrency")(a.price)))])],1),t("small",{staticClass:"text-gray"},[e._v("Tipe barang: "),t("strong",[e._v(e._s(a.goods_type))])])],1)],1)],1)],1)])})),1),t("el-row",{attrs:{gutter:20}},[t("el-col",{attrs:{span:16}},[t("el-card",[t("div",{staticClass:"flex items-center justify-between"},[t("h2",{staticClass:"text-primary mt-0"},[e._v("Summary")]),t("el-button",{attrs:{icon:"el-icon-edit",size:"small",type:"primary"},on:{click:function(t){e.currentStep-=1}}},[e._v("Edit")])],1),t("el-row",{staticClass:"mb-2",attrs:{gutter:16}},[t("el-col",{attrs:{span:6}},[t("div",{staticClass:"mr-3"},[t("small",{staticClass:"text-gray"},[t("strong",[e._v("Pengirim")])]),t("h4",{staticClass:"mb-1"},[e._v(e._s(e.selectedShipper.name||e.model.shipper?.name))]),t("small",{staticClass:"block text-gray"},[e._v(e._s(e.selectedShipper.address||e.model.shipper.address))]),t("small",{staticClass:"block text-gray"},[e._v(e._s(e.selectedShipper?.city_name)+", "+e._s(e.selectedShipper.postal_code||e.model.shipper?.postal_code))]),t("small",{staticClass:"block text-gray"},[e._v(e._s(e.selectedShipper.phone_no||e.model.shipper?.phone_no))])])]),t("el-col",{attrs:{span:6}},[t("div",{staticClass:"mr-3"},[t("small",{staticClass:"text-gray"},[t("strong",[e._v("Penerima")])]),t("h4",{staticClass:"mb-1"},[e._v(e._s(e.selectedReceiver.name||e.model.receiver?.name))]),t("small",{staticClass:"block text-gray"},[e._v(e._s(e.selectedReceiver.address||e.model.receiver?.address))]),t("small",{staticClass:"block text-gray"},[e._v(e._s(e.selectedReceiver.city_name)+", "+e._s(e.selectedReceiver.postal_code||e.model.receiver?.postal_code))]),t("small",{staticClass:"block text-gray"},[e._v(e._s(e.selectedReceiver.phone_no||e.model.receiver?.phone_no))])])])],1),t("h4",{staticClass:"mb-1 mt-2"},[e._v("Detail")]),t("el-table",{attrs:{data:e.filteredPrice}},[t("el-table-column",{attrs:{label:"Deskripsi"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("p",{staticClass:"my-0"},[t("strong",[e._v(e._s(a.row.service_display))])]),t("small",{staticClass:"text-gray"},[e._v("Tipe barang: "+e._s(a.row.goods_type)+" ("+e._s(e._f("formatNumber")(e.model.weight))+"kg)")])]}}],null,!1,715416791)}),t("el-table-column",{attrs:{label:"Jumlah",width:"80"}},[t("p",{staticClass:"text-right"},[t("strong",[e._v(e._s(e._f("formatNumber")(e.model.quantity)))])])]),t("el-table-column",{attrs:{label:"Harga (/qty)"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("p",{staticClass:"text-right"},[t("strong",[e._v(e._s(e._f("formatCurrency")(a.row.discount_price)))])])]}}],null,!1,1965364474)}),t("el-table-column",{attrs:{label:"Subtotal Harga"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("p",{staticClass:"text-right"},[t("strong",[e._v(e._s(e._f("formatCurrency")(Number(a.row.discount_price)*Number(e.model.quantity))))])])]}}],null,!1,385695339)})],1)],1)],1),t("el-col",{attrs:{span:8}},[t("el-card",[t("p",{staticClass:"mb-1 mt-0 text-gray"},[e._v("Saldo Wallet:")]),t("h1",{staticClass:"text-right"},[e._v(e._s(e._f("formatCurrency")(e.user.wallet.amount)))]),t("transition",{attrs:{name:"el-zoom-in-top",mode:"out-in"}},[e.isInsufficientBalance?t("el-alert",{staticClass:"mb-2",attrs:{title:"Saldo Anda tidak mencukupi",type:"error",closable:!1,"show-icon":""}}):e._e()],1),t("el-button",{staticClass:"w-full py-2",attrs:{type:"primary",disabled:e.isCreateAWBDisabled,loading:e.isLoading},on:{click:e.submit}},[t("strong",[e._v("Cetak Resi")])])],1)],1)],1)],1):e._e(),3===e.currentStep?t("div",{key:"congrats",staticClass:"mt-2"},[t("el-result",{attrs:{icon:"success"}},[t("template",{slot:"title"},[t("h2",{staticClass:"mt-0"},[e._v("Nomor Resi Berhasil Dibuat!")])]),t("template",{slot:"extra"},[t("p",{staticClass:"mb-2"},[e._v("Berikut nomor resi anda:")]),t("el-tag",{attrs:{type:"info"}},[t("h4",{staticClass:"my-0"},[e._v("#"+e._s(e.generatedAwb))]),t("div",{staticClass:"flex flex-col mt-2"},[t("el-button",{staticClass:"mb-1",attrs:{type:"primary",icon:"el-icon-plus"},on:{click:e.createNew}},[e._v("Buat Resi")]),t("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.$router.push({name:"dashboard-delivery"})}}},[e._v(" Cek Riwayat Pengiriman ")])],1)])],1)],2)],1):e._e()],1)],1)},mt=[];const pt="/v1/contact";async function ht(e){const t=await s["default"].axios({url:pt,method:"GET",params:e});return t.data}var gt={getContact:ht};const _t={COD:0,NON_COD:1},ft={PICK_UP:1,DROP_OFF:0},bt={TRUCK:2,MOBIL:1,MOTOR:0},vt={SHIPPER:1,RECEIVER:0};var yt={data(){const e=(e,t,a)=>{String(t).length<10||String(t).length>12?a(new Error("Nomor Telepon tidak valid.")):a()},t=(e,t,a)=>{const s=/^[0-9]+$/.test(t);!s||String(t).length<5||String(t).length>5?a(new Error("Kode Pos lebih atau kurang dari 5 karakter.")):a()};return{rules:{shipper_contact_id:[{required:!0,trigger:"blur",message:"Nama pengirim wajib diisi"}],receiver_contact_id:[{required:!0,trigger:"blur",message:"Nama penerima wajib diisi"}],shipper:{name:[{required:!0,trigger:"blur",message:"Nama pengirim wajib diisi"}],phone_no:[{required:!0,trigger:"blur",message:"Nomor Telepon wajib diisi"},{validator:e,trigger:"blur"}],postal_code:[{required:!0,trigger:"blur",message:"Kode pos wajib diisi"},{validator:t,trigger:"blur"}]},receiver:{name:[{required:!0,trigger:"blur",message:"Nama pengirim wajib diisi"}],phone_no:[{required:!0,trigger:"blur",message:"Nomor Telepon wajib diisi"},{validator:e,trigger:"blur"}],postal_code:[{required:!0,trigger:"blur",message:"Kode pos wajib diisi"},{validator:t,trigger:"blur"}]},weight:[{required:!0,trigger:"blur",message:"Berat barang wajib diisi"},{validator:(e,t,a)=>{const s=Number(t);s&&s<0?a(new Error("Berat harus lebih besar daripada 0 (nol)")):a()},trigger:"blur"}]},isLoading:!1,serviceType:_t,currentStep:0,isSearched:!1,model:{shipper:{name:"",phone_no:"",city_code:null,city_name:"",postal_code:"",address:""},receiver:{name:"",phone_no:"",city_code:null,city_name:"",postal_code:"",address:""},shipper_contact_id:null,receiver_contact_id:null,shipment_code:null,vehicle:null,cod:null,pickup_type:null,agent:null,weight:null,quantity:1,goods_descriptions:"",handling_instructions:"",insured:!1,goods_price:null,shipment_amount:0},shipperContact:[],receiverContact:[],services:[],origins:[],destinations:[],newSender:!1,newReceipient:!1,agents:[],vehicles:[{value:bt.MOBIL,label:"Mobil"},{value:bt.MOTOR,label:"Motor"},{value:bt.TRUCK,label:"Truck"}],pickupTypes:[{value:ft.DROP_OFF,label:"Drop-Off"},{value:ft.PICK_UP,label:"PickUp"}],selectedShipper:{name:"",phone_no:"",postal_code:"",city_code:"",city_name:"",address:""},selectedReceiver:{name:"",phone_no:"",postal_code:"",city_code:"",city_name:"",address:""},generatedAwb:null}},computed:{filteredPrice(){return this.services.filter((e=>e.selected))},selectedPriceAmount(){const e=this.services.filter((e=>e.selected));return e.length>0?e[0].discount_price:0},isCreateAWBDisabled(){return 0===this.filteredPrice.length||this.isInsufficientBalance},user(){return this.$store.getters["auth/user"]},isInsufficientBalance(){return Number(this.selectedPriceAmount)*Number(this.model.quantity)>Number(this.user.wallet.amount)}},created(){this.init()},watch:{currentStep(e,t){e<t&&window.scrollTo({top:0,behavior:"smooth"})}},methods:{async init(){try{const e=await gt.getContact({type:vt.SHIPPER}),t=await gt.getContact({type:vt.RECEIVER}),a=await je.getDestinations(),s=await je.getOrigins();this.shipperContact=e.data,this.receiverContact=t.data,this.origins=a.data,this.destinations=s.data}catch(e){}},createNew(){this.model={shipper:{name:"",phone_no:"",city_code:null,city_name:"",postal_code:"",address:""},receiver:{name:"",phone_no:"",city_code:null,city_name:"",postal_code:"",address:""},shipper_contact_id:null,receiver_contact_id:null,shipment_code:null,vehicle:null,cod:null,pickup_type:null,agent:null,weight:null,quantity:1,goods_descriptions:"",handling_instructions:"",insured:!1,goods_price:null,shipment_amount:0},this.currentStep=0},onToggleNewContact(e,t){if(!e)switch(t){case"sender":this.model.shipper={name:"",phone_no:"",postal_code:"",city_code:"",city_name:"",address:""};break;case"receiver":this.model.receiver={name:"",phone_no:"",postal_code:"",city_code:"",city_name:"",address:""};break;default:break}},async getTarrifs(){this.isLoading=!0;try{const e={origin:this.selectedShipper?.city_code||this.model.shipper.city_code,destination:this.selectedReceiver?.city_code||this.model.receiver.city_code,weight:this.model.weight},t=await je.checkTarrif(e);this.services=t.data.price.map((e=>({...e,selected:!1}))),this.isSearched=!0,this.currentStep+=1}catch(e){}this.isLoading=!1},onHandleChange(e,t){t?"shipper"===t?this.selectedShipper={...e}:"receiver"===t&&(this.selectedReceiver={...e}):t||(e.contact_type===vt.RECEIVER?this.selectedReceiver={...e}:this.selectedShipper={...e})},async remoteMethodOrigin(e){this.searchOrigin=e;const t=await je.getOrigins({q:e});this.origins=t.data},async remoteMethodDestination(e){this.searchDestination=e;const t=await je.getDestinations({q:e});this.destinations=t.data},async submit(){switch(this.currentStep){case 0:this.$refs.form.validate((async e=>{e&&(await this.getTarrifs(),window.scrollTo({top:0,behavior:"smooth"}))}));break;case 1:await this.generateAirwayBill(),window.scrollTo({top:0,behavior:"smooth"});break;default:break}},onClickPrice(e){this.services=this.services.map((t=>({...t,selected:e.service_code===t.service_code})))},async generateAirwayBill(){this.isLoading=!0;try{const e=this.services.filter((e=>e.selected))[0],{shipper:t,receiver:a}=this.model,s={shipper_contact_id:this.model.shipper_contact_id?.id,receiver_contact_id:this.model.receiver_contact_id?.id,vehicle:this.model.vehicle,shipment_code:e.service_code,goods_descriptions:this.model.goods_descriptions,goods_price:this.model.goods_price,handling_instructions:this.model.handling_instructions,quantity:this.model.quantity,weight:this.model.weight,pickup_type:this.model.pickup_type,is_cod:this.model.cod===_t.COD,cod_amount:0,insured:this.model.insured,shipper:this.model.shipper_contact_id?null:{name:t.name,phone_no:t.phone_no,city_code:t.city_code?.city_code,city_name:t.city_code?.city_name,postal_code:t.postal_code,address:t.address},receiver:this.model.receiver_contact_id?null:{name:a.name,phone_no:a.phone_no,city_code:a.city_code?.city_code,city_name:a.city_code?.city_name,postal_code:a.postal_code,address:a.address}},i=await je.generateAWB(s);this.generatedAwb=i.data.cnote_no,await this.$store.dispatch("auth/introspect"),this.currentStep+=2,this.$notify({title:"Sukses",message:"Nomor Resi berhasil dibuat",type:"success"})}catch(e){}this.isLoading=!1}}},wt=yt,Ct=(0,f.Z)(wt,ut,mt,!1,null,null,null),xt=Ct.exports,kt=function(){var e=this,t=e._self._c;return t("div",[t("h1",[e._v("Riwayat Pengiriman")]),t("el-card",[t("el-table",{attrs:{data:e.tableData}},[t("el-table-column",{attrs:{prop:"cnote_no",label:"Nomor Resi",width:"180",fixed:"left"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("el-tag",{attrs:{type:"info"}},[e._v("#"+e._s(a.row.cnote_no))])]}}])}),t("el-table-column",{attrs:{prop:"service_name",label:"Jenis Layanan",width:"120"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("el-tag",{attrs:{type:"info"}},[t("strong",[e._v(e._s(a.row.service_name))])])]}}])}),t("el-table-column",{attrs:{label:"Harga",width:"180"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("p",{staticClass:"text-right"},[e._v(" "+e._s(e._f("formatCurrency")(a.row.price))+" ")])]}}])}),t("el-table-column",{attrs:{label:"Pengirim",width:"250"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.shipper?.name||t.row.static_shipper_name)+" ")]}}])}),t("el-table-column",{attrs:{label:"Kota Pengirim",width:"250"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.shipper?.city_name||t.row.static_shipper_city_name)+" ")]}}])}),t("el-table-column",{attrs:{label:"Penerima",width:"250"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.receiver?.name||t.row.static_receiver_name)+" ")]}}])}),t("el-table-column",{attrs:{label:"Kota Penerima",width:"250"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.receiver?.name||t.row.static_receiver_city_name)+" ")]}}])}),t("el-table-column",{attrs:{label:"Status",width:"150"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("el-button",{attrs:{type:"text",icon:"el-icon-search"},on:{click:function(t){return e.viewDeliveryStatus(a.row)}}},[e._v("Lihat")])]}}])})],1),t("div",{staticClass:"flex justify-between items-center mt-2"},[t("el-pagination",{attrs:{layout:"prev, pager, next",total:e.total,"page-size":10,"current-page":e.currentPage},on:{"update:currentPage":function(t){e.currentPage=t},"update:current-page":function(t){e.currentPage=t},"current-change":e.handlePageChange}}),t("small",[e._v("Total: "),t("strong",[e._v(e._s(e.total))])])],1)],1)],1)},St=[],Tt={data(){return{tableData:[],currentPage:1,total:0,search:"",dialogVisible:!1}},created(){this.fetchData(),this.$route.query.page&&(this.currentPage=Number(this.$route.query.page))},watch:{$route(){this.fetchData()}},methods:{async fetchData(){try{const e={page:this.currentPage,q:this.search},t=await je.getDeliveryHistory(e);this.total=t.data.total,this.tableData=t.data.data}catch(e){console.log(e)}},viewDeliveryStatus(e){console.log({row:e})},async handlePageChange(e){await this.$router.push({name:"dashboard-delivery",query:{page:e}}),window.scrollTo({top:0,behavior:"smooth"}),this.currentPage=e}}},Pt=Tt,Dt=(0,f.Z)(Pt,kt,St,!1,null,null,null),$t=Dt.exports,Ot=function(){var e=this,t=e._self._c;return t("div",[t("h1",[e._v("Resi Masal")]),t("el-card",[t("div",{staticClass:"flex items-center justify-between"},[t("h2",{staticClass:"text-primary"},[e._v("Upload Data Pengiriman")]),t("div",{staticClass:"flex"},[t("el-button",{attrs:{icon:"el-icon-download"}},[e._v("Download Template")]),t("el-button",{attrs:{type:"primary",icon:"el-icon-check",loading:e.loading,disabled:e.isSubmitDisabled},on:{click:e.submit}},[e._v("Kirim Data")])],1)]),t("el-form",{ref:"form",attrs:{model:e.model,"label-position":"top"}},[t("el-row",{attrs:{gutter:16}},[t("el-col",{attrs:{span:10}},[t("el-form-item",{attrs:{prop:"vehicle",label:"Jenis Kendaraan",rules:{required:!0,trigger:"blur",message:"Jenis kendaraan wajib diisi"}}},[t("el-select",{staticClass:"w-full",model:{value:e.model.vehicle,callback:function(t){e.$set(e.model,"vehicle",t)},expression:"model.vehicle"}},e._l(e.vehicles,(function(e){return t("el-option",{key:`vehicle-${e.value}`,attrs:{label:e.label,value:e.value}})})),1)],1)],1),t("el-col",{attrs:{span:10}},[t("el-form-item",{attrs:{prop:"insured",label:"Asuransi"}},[t("el-checkbox",{model:{value:e.model.insured,callback:function(t){e.$set(e.model,"insured",t)},expression:"model.insured"}},[e._v("Asuransi")])],1)],1)],1),t("label",{attrs:{for:"input"}},[t("input",{ref:"input",staticClass:"hidden",attrs:{type:"file",accept:".xlsx",name:"input",multiple:!1},on:{change:e.fileHandler}})]),t("el-button",{attrs:{type:"primary",plain:"",icon:"el-icon-upload",loading:e.loading},on:{click:function(t){return e.$refs.input.click()}}},[e._v("Upload File")]),t("transition",{attrs:{name:"el-fade-in"}},[t("div",{directives:[{name:"show",rawName:"v-show",value:e.fileContents.length>0,expression:"fileContents.length > 0"}]},[t("small",{staticClass:"text-gray"},[t("em",[e._v(e._s(e.file.name))])]),t("el-table",{staticClass:"mt-2",attrs:{data:e.fileContents,height:"350"}},[t("el-table-column",{attrs:{label:"Kota Pengirim",width:"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.shipper.city_name)+" ")]}}])}),t("el-table-column",{attrs:{label:"Kota Penerima",width:"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.receiver.city_name)+" ")]}}])}),t("el-table-column",{attrs:{label:"Jenis Layanan",width:"150"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("el-tag",{attrs:{type:"info"}},[t("strong",[e._v(e._s(a.row.shipment_code))])])]}}])}),t("el-table-column",{attrs:{label:"Berat (Kg)",width:"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.weight)+" ")]}}])}),t("el-table-column",{attrs:{label:"Jumlah Barang",width:"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.quantity)+" ")]}}])}),t("el-table-column",{attrs:{label:"Deskripsi Barang",width:"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.goods_descriptions)+" ")]}}])}),t("el-table-column",{attrs:{label:"Harga Pengiriman",width:"200"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("p",{staticClass:"text-right"},[e._v(" "+e._s(e._f("formatCurrency")(a.row.discount_price))+" ")])]}}])}),t("el-table-column",{attrs:{label:"Total Harga Pengiriman",fixed:"right",width:"200"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("p",{staticClass:"text-right"},[e._v(e._s(e._f("formatCurrency")(Number(a.row.discount_price)*a.row.quantity)))])]}}])})],1),t("div",{staticClass:"flex w-full justify-end"},[t("h2",[e._v("Subtotal: "),t("span",{staticClass:"text-primary"},[e._v(e._s(e._f("formatCurrency")(e.subtotal)))])])])],1)])],1)],1)],1)},Et=[],At=a(2649),Nt={data(){return{fileContents:[],tempFileContents:[],loading:!1,file:{name:null,insured:!1},model:{vehicle:null,insured:!1},vehicles:[{value:bt.MOBIL,label:"Mobil"},{value:bt.MOTOR,label:"Motor"},{value:bt.TRUCK,label:"Truck"}]}},computed:{subtotal(){return this.fileContents.reduce(((e,t)=>e+t.discount_price*t.quantity),0)},user(){return this.$store.getters["auth/user"]},isSubmitDisabled(){return 0===this.fileContents.length||this.user.wallet.amount<this.subtotal}},methods:{fileHandler(e){this.loading=!0;try{const t=e.target.files[0];this.file=t;const a=new FileReader;a.onload=e=>{const t=e.target.result,a=(0,At.ij)(t,{type:"binary"}),s=a.SheetNames[0],i=At.P6.sheet_to_json(a.Sheets[s]);this.tempFileContents=i.map(((e,t)=>{const[a,s]=e["Kode Kota Pengirim"].split("|"),[i,l]=e["Kode Kota Penerima"].split("|");return{id:t+1,shipper:{name:e["Nama Pengirim"],phone:e["No. Hp Pengirim"],city_code:a,city_name:s,postal_code:e["Kode Pos Pengirim"],address:e["Alamat Pengirim"]},receiver:{name:e["Nama Penerima"],phone:e["No. Hp Penerima"],city_code:i,city_name:l,postal_code:e["Kode Pos Penerima"],address:e["Alamat PengiPenerimarim"]},goods_descriptions:e["Deskripsi Barang"],handling_instructions:e["Intruksi Barang"],goods_price:Number(e["Harga Barang"]),shipment_code:e["Layana (REG,OKE, JTR)"],quantity:e["Jumlah Barang"],weight:Number(e["Berat (Kg)"]),is_cod:"YES"===e["COD (YES/NO)"]}})),i.length>25&&(this.$notify({type:"error",message:"Maksimal 25 pengiriman"}),this.tempFileContents=[]),this.checkPrice()},a.readAsBinaryString(t)}catch(t){this.$notify({type:"error",message:"File template error"})}e.target.value=null,this.loading=!1},async checkPrice(){this.loading=!0;try{this.fileContents=await Promise.all(this.tempFileContents.map((async(e,t)=>{const a=await je.checkTarrif({origin:e.shipper.city_code,destination:e.receiver.city_code,weight:e.weight}),s=a.data.price.find((t=>t.service_display===e.shipment_code));return{...e,id:t,final_shipment_code:s.service_code,price:s?.price||0,discount_price:s?.discount_price||0}})))}catch(e){console.log(e)}this.loading=!1},async submit(){this.$refs.form.validate((async e=>{if(e){this.loading=!0;try{const e={vehicle:this.model.vehicle,insured:this.model.insured,deliveries:this.fileContents.map((e=>({...e,shipment_code:e.final_shipment_code})))};await je.bulkGenerateAWB(e),this.$store.dispatch("auth/introspect"),this.$notify({type:"success",message:"Berhasil"}),this.$router.push({name:"dashboard-delivery"})}catch(t){}this.loading=!1}}))}}},jt=Nt,Rt=(0,f.Z)(jt,Ot,Et,!1,null,null,null),Lt=Rt.exports,qt=[{path:"overview",name:"dashboard-overview",component:Ue,meta:{title:"Overview"}},{path:"monitoring",name:"dashboard-monitoring",component:We,meta:{title:"Monitoring"}},{path:"shipping/ongkos-kirim",name:"dashboard-shipping-fee",component:Qe,meta:{title:"Cek Ongkir"}},{path:"shipping/resi-satuan",name:"dashboard-airway-bill",component:xt,meta:{title:"Resi Satuan"}},{path:"shipping/resi-massal",name:"dashboard-bulk-airway-bill",component:Lt,meta:{title:"Resi Massal"}},{path:"wallet",name:"dashboard-wallet",component:dt,meta:{title:"Saldo"}},{path:"shipping/riwayat-pengiriman",name:"dashboard-delivery",component:$t,meta:{title:"Riwayat Pengiriman"}}],It=function(){var e=this;e._self._c;return e._m(0)},Kt=[function(){var e=this,t=e._self._c;return t("div",[t("h1",[e._v("Overview Admin")])])}],Ut={},Bt=(0,f.Z)(Ut,It,Kt,!1,null,null,null),Mt=Bt.exports,Ht=function(){var e=this,t=e._self._c;return t("div",{staticClass:"flex h-screen w-screen items-center justify-center"},[t("div",{staticClass:"login-container"},[t("el-card",[t("el-image",{staticClass:"block m-auto",staticStyle:{width:"50%",height:"auto"},attrs:{src:"https://demo.permudahdakwah.com/images/fastorder.png",fit:"cover"}}),t("h4",{staticClass:"text-center"},[e._v("Login ke Akun MySales Anda")]),t("el-form",{ref:"form",staticClass:"mb-2",attrs:{model:e.model,rules:e.rules},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.submit.apply(null,arguments)}}},[t("el-form-item",{attrs:{prop:"email",label:"Email"}},[t("el-input",{attrs:{clearable:""},model:{value:e.model.email,callback:function(t){e.$set(e.model,"email",t)},expression:"model.email"}})],1),t("el-form-item",{attrs:{prop:"password",label:"Password"}},[t("el-input",{attrs:{type:"password",clearable:""},model:{value:e.model.password,callback:function(t){e.$set(e.model,"password",t)},expression:"model.password"}})],1)],1),t("el-button",{staticClass:"w-full",attrs:{type:"primary"},on:{click:e.submit}},[e._v("Login")])],1)],1)])},Zt=[],Gt={data(){return{model:{email:"",password:""},rules:{email:[{required:!0,trigger:"blur",message:"Email wajib diisi"}],password:[{required:!0,trigger:"blur",message:"Password wajib diisi"}]}}},methods:{submit(){this.$refs.form.validate((async e=>{if(e)try{const e={email:this.model.email,password:this.model.password},t=await S.login(e);localStorage.setItem("admin_token",t.data.token),await this.$router.push({name:"admin-overview"})}catch(t){}}))}}},Wt=Gt,Vt=(0,f.Z)(Wt,Ht,Zt,!1,null,null,null),Ft=Vt.exports,Jt=function(){var e=this,t=e._self._c;return t("div",{},[t("div",{staticClass:"flex items-center justify-between"},[t("h1",[e._v("Tipe User")]),t("el-button",{attrs:{type:"primary",icon:"el-icon-plus"},on:{click:e.newUserType}},[e._v("Tambah")])],1),t("el-card",[t("el-table",{attrs:{data:e.tableData}},[t("el-table-column",{attrs:{prop:"name",label:"Nama"}}),t("el-table-column",{attrs:{prop:"slug",label:"Slug"}}),t("el-table-column",{attrs:{prop:"discount_percentage",label:"Diskon (%)"}}),t("el-table-column",{attrs:{width:"180"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("el-button",{attrs:{type:"text"},on:{click:function(t){return e.edit(a.row)}}},[e._v("Edit")])]}}])})],1)],1),t("el-dialog",{attrs:{title:"Tambah/Edit Tipe User",visible:e.dialogVisible,width:"350px"},on:{"update:visible":function(t){e.dialogVisible=t},closed:e.onClose}},[t("el-form",{ref:"form",attrs:{model:e.model}},[t("el-form-item",{attrs:{prop:"name",label:"Nama",rules:{required:!0,trigger:"blur",message:"Nama wajib diisi"}}},[t("el-input",{attrs:{clearable:""},model:{value:e.model.name,callback:function(t){e.$set(e.model,"name",t)},expression:"model.name"}})],1),t("el-form-item",{attrs:{prop:"slug",label:"Slug",rules:{required:!0,trigger:"blur",message:"Slug wajib diisi"}}},[t("el-input",{attrs:{clearable:""},model:{value:e.model.slug,callback:function(t){e.$set(e.model,"slug",t)},expression:"model.slug"}})],1),t("el-form-item",{attrs:{prop:"discount_percentage",label:"Diskon (%)",rules:{required:!0,trigger:"blur",message:"Diskon wajib diisi"}}},[t("el-input",{attrs:{type:"number",clearable:""},model:{value:e.model.discount_percentage,callback:function(t){e.$set(e.model,"discount_percentage",e._n(t))},expression:"model.discount_percentage"}})],1),t("el-button",{staticClass:"w-full",attrs:{type:"primary",loading:e.loading},on:{click:e.submit}},[e._v("Submit")])],1)],1)],1)},zt=[],Yt={async getAll(){const e=await s["default"].http({url:"/v1/user_type",method:"GET"});return e.data},async create(e){const t=await s["default"].http({url:"/v1/user_type",method:"POST",data:e});return t.data}},Qt={data(){return{loading:!1,tableData:[],total:0,dialogVisible:!1,model:{name:"",slug:"",discount_percentage:0}}},created(){this.fetchData()},methods:{async fetchData(){try{const e=await Yt.getAll();this.tableData=e.data.data,this.total=e.data.total}catch(e){}},newUserType(){this.model={name:"",slug:"",discount_percentage:0},this.dialogVisible=!0},edit(e){this.model={...e},this.dialogVisible=!0},onClose(){this.model={name:"",slug:"",discount_percentage:0}},submit(){this.$refs.form.validate((async e=>{e&&(await Yt.create(this.model),this.fetchData(),this.dialogVisible=!1,this.$notify({type:"success",title:"Sukses",message:"Berhasil"}))}))}}},Xt=Qt,ea=(0,f.Z)(Xt,Jt,zt,!1,null,null,null),ta=ea.exports,aa=function(){var e=this,t=e._self._c;return t("div",[t("div",{staticClass:"my-1 flex items-center justify-between"},[t("h1",[e._v("User")]),t("el-button",{attrs:{type:"primary",icon:"el-icon-plus"}},[e._v("Tambah")])],1),t("el-card",[t("el-table",{attrs:{data:e.tableData}},[t("el-table-column",{attrs:{prop:"name",label:"Nama",width:"250"}}),t("el-table-column",{attrs:{prop:"email",label:"Email",width:"220"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("el-button",{attrs:{type:"text"}},[e._v(e._s(a.row.email))])]}}])}),t("el-table-column",{attrs:{prop:"phone_no",label:"No. Telepon",width:"180"}}),t("el-table-column",{attrs:{prop:"address",label:"Alamat",width:"250"}}),t("el-table-column",{attrs:{prop:"user_type.name",label:"Tipe User",width:"200"}}),t("el-table-column",{attrs:{prop:"admin_user.name",label:"Created By",width:"200"}}),t("el-table-column",{attrs:{fixed:"right"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("el-button",{attrs:{type:"text"},on:{click:function(t){return e.edit(a.row)}}},[e._v("Edit")])]}}])})],1)],1),t("el-dialog",{attrs:{visible:e.dialogVisible,title:"Tambah/Edit User",width:"400px"},on:{"update:visible":function(t){e.dialogVisible=t}}},[t("el-form",{ref:"form",attrs:{model:e.model,"label-position":"top"}},[t("el-form-item",{attrs:{prop:"name",label:"Nama"}},[t("el-input",{attrs:{clearable:""},model:{value:e.model.name,callback:function(t){e.$set(e.model,"name",t)},expression:"model.name"}})],1),t("el-form-item",{attrs:{prop:"email",label:"Email"}},[t("el-input",{attrs:{clearable:""},model:{value:e.model.email,callback:function(t){e.$set(e.model,"email",t)},expression:"model.email"}})],1),t("el-form-item",{attrs:{prop:"phone_no",label:"No. Telepon"}},[t("el-input",{attrs:{clearable:""},model:{value:e.model.phone_no,callback:function(t){e.$set(e.model,"phone_no",t)},expression:"model.phone_no"}})],1),t("el-form-item",{attrs:{prop:"address",label:"Address"}},[t("el-input",{attrs:{type:"textarea",rows:3,clearable:""},model:{value:e.model.address,callback:function(t){e.$set(e.model,"address",t)},expression:"model.address"}})],1),t("el-form-item",{attrs:{prop:"user_type_id",label:"Tipe User"}},[t("el-select",{staticClass:"w-full",model:{value:e.model.user_type_id,callback:function(t){e.$set(e.model,"user_type_id",t)},expression:"model.user_type_id"}},e._l(e.userTypes,(function(e){return t("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),1)],1)],1),t("el-button",{staticClass:"w-full",attrs:{type:"primary",loading:e.loading}},[e._v("Submit")])],1)],1)},sa=[],ia={async getAll(e){const t=await s["default"].http({url:"/v1/user",method:"GET",params:e});return t.data}},la={data(){return{loading:!1,tableData:[],total:0,currentPage:1,search:"",dialogVisible:!1,userTypes:[],model:{name:""}}},created(){this.fetchData(),this.fetchUserTypes()},methods:{async fetchUserTypes(){const e=await Yt.getAll();this.userTypes=e.data.data},async fetchData(){try{const e={page:this.currentPage,q:this.q},t=await ia.getAll(e);this.tableData=t.data.data,this.total=t.data.total}catch(e){}},edit(e){this.model={...e},this.model.user_type_id=e.user_type.id,this.dialogVisible=!0}}},ra=la,oa=(0,f.Z)(ra,aa,sa,!1,null,null,null),na=oa.exports,ca=[{name:"admin-login",path:"login",component:Ft,meta:{title:"MySales - Login"}},{name:"admin-overview",path:"overview",component:Mt,meta:{title:"MySales - Overview"}},{name:"admin-usertype",path:"user-type",component:ta,meta:{title:"MySales - Tipe User"}},{name:"admin-user",path:"user",component:na,meta:{title:"MySales - Tipe User"}}];s["default"].use(n.ZP);const da=[{path:"/",name:"home",redirect:"/dashboard/overview"},{path:"/login",name:"login",component:oe},{path:"/dashboard",component:N,redirect:"/dashboard/overview",children:[...qt]},{path:"/mysales",component:te,redirect:"/mysales/overview",children:[...ca]},{path:"*",name:"not-found",component:me}],ua=new n.ZP({mode:"history",base:"/",routes:da}),ma=["/login","/register","/mysales/login"],pa=e=>e.name.split("-")[0],ha=(e,t)=>{const a="/mysales"===e.matched[0].path?e.matched[1].path:e.matched[0].path,s="admin"===pa(e);if(ma.includes(a)){if(s&&ke.getters["adminAuth/isLoggedIn"])return t({path:"/mysales/overview"});if(ke.getters["auth/isLoggedIn"])return t({path:"/dashboard/overview"})}return s&&ke.getters["adminAuth/isLoggedIn"]||ke.getters["auth/isLoggedIn"]?t():t(s?{path:"/mysales/login"}:{path:"/login"})};ua.beforeEach((async(e,t,a)=>{if(!ke.getters["auth/isLoaded"])try{"admin"===pa(e)?await ke.dispatch("adminAuth/introspect"):await ke.dispatch("auth/introspect")}catch(s){console.log(s)}document.title=e.meta.title,ha(e,a)}));var ga=ua,_a={install(e){const t=["/v1/login"],a=r.Z.create({baseURL:"http://localhost:9000/api"});a.interceptors.request.use((e=>{if(!t.includes(e.url)){const t=localStorage.getItem("token");e.headers.Authorization=`Bearer ${t}`}return e})),a.interceptors.response.use((e=>e),(e=>(e?.response?.data?.message&&(0,i.Message)({type:"error",message:e?.response?.data?.message}),401===e?.response?.status&&ga.push("/login"),Promise.reject(e))));const s=["/v1/login"],l=r.Z.create({baseURL:"http://localhost:9000/api/admin"});l.interceptors.request.use((e=>{if(!s.includes(e.url)){const t=localStorage.getItem("admintoken");e.headers.Authorization=`Bearer ${t}`}return e})),l.interceptors.response.use((e=>e),(e=>(e?.response?.data?.message&&(0,i.Message)({type:"error",message:e?.response?.data?.message}),Promise.reject(e)))),e.use(o.Z,{axios:a,http:l})}},fa=a(8596);const ba={install(e){e.use(l(),{locale:fa.Z})}};var va=ba,ya=a(3933),wa=a.n(ya);const Ca={install(e){e.use(wa())}};var xa=Ca,ka=a(6842),Sa=a.n(ka);const Ta={install(e){const t=e=>`Rp.${Number(e||0).toLocaleString("id-ID")}`,a=e=>Number(e||0).toLocaleString("id-ID"),s=(e,t="DD MMMM YYYY HH:mm:ss")=>Sa()(e).format(t);e.filter("formatCurrency",t),e.filter("formatNumber",a),e.filter("formatDate",s)}};var Pa=Ta;const Da={install(e){e.use(_a),e.use(va),e.use(xa),e.use(Pa)}};var $a=Da,Oa=function(){var e=this,t=e._self._c;return t("div",{attrs:{id:"app"}},[t("router-view")],1)},Ea=[],Aa={},Na=(0,f.Z)(Aa,Oa,Ea,!1,null,null,null),ja=Na.exports,Ra=a(4337);(0,Ra.z)("/service-worker.js",{ready(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered(){console.log("Service worker has been registered.")},cached(){console.log("Content has been cached for offline use.")},updatefound(){console.log("New content is downloading.")},updated(){console.log("New content is available; please refresh.")},offline(){console.log("No internet connection found. App is running in offline mode.")},error(e){console.error("Error during service worker registration:",e)}}),s["default"].config.productionTip=!1,s["default"].use($a),new s["default"]({router:ga,store:ke,render:e=>e(ja)}).$mount("#app")}},t={};function a(s){var i=t[s];if(void 0!==i)return i.exports;var l=t[s]={id:s,loaded:!1,exports:{}};return e[s].call(l.exports,l,l.exports,a),l.loaded=!0,l.exports}a.m=e,function(){a.amdO={}}(),function(){var e=[];a.O=function(t,s,i,l){if(!s){var r=1/0;for(d=0;d<e.length;d++){s=e[d][0],i=e[d][1],l=e[d][2];for(var o=!0,n=0;n<s.length;n++)(!1&l||r>=l)&&Object.keys(a.O).every((function(e){return a.O[e](s[n])}))?s.splice(n--,1):(o=!1,l<r&&(r=l));if(o){e.splice(d--,1);var c=i();void 0!==c&&(t=c)}}return t}l=l||0;for(var d=e.length;d>0&&e[d-1][2]>l;d--)e[d]=e[d-1];e[d]=[s,i,l]}}(),function(){a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,{a:t}),t}}(),function(){a.d=function(e,t){for(var s in t)a.o(t,s)&&!a.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:t[s]})}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){a.hmd=function(e){return e=Object.create(e),e.children||(e.children=[]),Object.defineProperty(e,"exports",{enumerable:!0,set:function(){throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+e.id)}}),e}}(),function(){a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){a.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e}}(),function(){var e={143:0};a.O.j=function(t){return 0===e[t]};var t=function(t,s){var i,l,r=s[0],o=s[1],n=s[2],c=0;if(r.some((function(t){return 0!==e[t]}))){for(i in o)a.o(o,i)&&(a.m[i]=o[i]);if(n)var d=n(a)}for(t&&t(s);c<r.length;c++)l=r[c],a.o(e,l)&&e[l]&&e[l][0](),e[l]=0;return a.O(d)},s=self["webpackChunkfo_fe"]=self["webpackChunkfo_fe"]||[];s.forEach(t.bind(null,0)),s.push=t.bind(null,s.push.bind(s))}();var s=a.O(void 0,[998],(function(){return a(8406)}));s=a.O(s)})();
//# sourceMappingURL=app.ac202b14.js.map